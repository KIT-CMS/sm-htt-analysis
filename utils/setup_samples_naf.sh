#!/bin/bash

ERA=$1
TAG=$2
DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"
source $DIR/setup_samples.sh $ERA $TAG

basedir_naf="/nfs/dust/cms/group/higgs-kit/ekp"

# Samples Run2016
[[ ! -z "$ARTUS_FRIENDS_2016" ]] && ARTUS_OUTPUTS_2016=$basedir_naf/ARTUS_OUTPUTS_2016
ARTUS_FRIENDS_ET_2016=$ARTUS_OUTPUTS_2016
ARTUS_FRIENDS_MT_2016=$ARTUS_OUTPUTS_2016
ARTUS_FRIENDS_TT_2016=$ARTUS_OUTPUTS_2016
ARTUS_FRIENDS_EM_2016=$ARTUS_OUTPUTS_2016
[[ ! -z "$NNScore_Friends_2016" ]] && NNScore_Friends_2016=$basedir_naf/NNScore_Friends_2016
[[ ! -z "$SVFit_Friends_2016" ]] && SVFit_Friends_2016=$basedir_naf/SVFit_Friends_2016
[[ ! -z "$MELA_Friends_2016" ]] && MELA_Friends_2016=$basedir_naf/MELA_Friends_2016
[[ ! -z "$FF_Friends_2016" ]] && FF_Friends_2016=$basedir_naf/FF_Friends_2016
[[ ! -z "$ARTUS_FRIENDS_2016" ]] && ARTUS_FRIENDS_2016=$basedir_naf/ARTUS_FRIENDS_2016
if [[ ! -z "$ARTUS_FRIENDS_2016" ]]
then
    ARTUS_FRIENDS_ET_2016=$ARTUS_FRIENDS_2016
    ARTUS_FRIENDS_MT_2016=$ARTUS_FRIENDS_2016
    ARTUS_FRIENDS_TT_2016=$ARTUS_FRIENDS_2016
    ARTUS_FRIENDS_EM_2016=$ARTUS_FRIENDS_2016
fi
ARTUS_FRIENDS_FAKE_FACTOR_2016=$FF_Friends_2016
ARTUS_FRIENDS_FAKE_FACTOR_INCL_2016=$ARTUS_FRIENDS_FAKE_FACTOR_2016

# Samples Run2017
[[ ! -z "$ARTUS_OUTPUTS_2017" ]] && ARTUS_OUTPUTS_2017="$basedir_naf/ARTUS_OUTPUTS_2017"
[[ ! -z "$NNScore_Friends_2017" ]] && NNScore_Friends_2017="$basedir_naf/NNScore_Friends_2017"
[[ ! -z "$SVFit_Friends_2017" ]] && SVFit_Friends_2017="$basedir_naf/SVFit_Friends_2017"
[[ ! -z "$MELA_Friends_2017" ]] && MELA_Friends_2017="$basedir_naf/MELA_Friends_2017"
[[ ! -z "$FF_Friends_2017" ]] && FF_Friends_2017="$basedir_naf/FF_Friends_2017"
[[ ! -z "$ARTUS_FRIENDS_2017" ]] && ARTUS_FRIENDS_2017="$NNScore_Friends_2017 $SVFit_Friends_2017 $MELA_Friends_2017"
ARTUS_FRIENDS_ET_2017=$ARTUS_FRIENDS_2017
ARTUS_FRIENDS_MT_2017=$ARTUS_FRIENDS_2017
ARTUS_FRIENDS_TT_2017=$ARTUS_FRIENDS_2017
ARTUS_FRIENDS_EM_2017=$ARTUS_FRIENDS_2017
ARTUS_FRIENDS_FAKE_FACTOR_2017=$FF_Friends_2017
ARTUS_FRIENDS_FAKE_FACTOR_INCL_2017=$FF_Friends_2017
[[ ! -z "$ARTUS_OUTPUTS_EM_2017" ]] && ARTUS_OUTPUTS_EM_2017="$basedir_naf/ARTUS_OUTPUTS_EM_2017"

# Samples Run2018
[[ ! -z "$ARTUS_OUTPUTS_2018" ]] && ARTUS_OUTPUTS_2018="$basedir_naf/ARTUS_OUTPUTS_2018"
[[ ! -z "$NNScore_Friends_2018" ]] && NNScore_Friends_2018="$basedir_naf/NNScore_Friends_2018"
[[ ! -z "$SVFit_Friends_2018" ]] && SVFit_Friends_2018="$basedir_naf/SVFit_Friends_2018"
[[ ! -z "$MELA_Friends_2018" ]] && MELA_Friends_2018="$basedir_naf/MELA_Friends_2018"
[[ ! -z "$FF_Friends_2018" ]] && FF_Friends_2018="$basedir_naf/FF_Friends_2018"
[[ ! -z "$NNScore_Friends_ET_2018" ]] && NNScore_Friends_ET_2018="$basedir_naf/NNScore_Friends_ET_2018"
[[ ! -z "$NNScore_Friends_MT_2018" ]] && NNScore_Friends_MT_2018="$basedir_naf/NNScore_Friends_MT_2018"
[[ ! -z "$NNScore_Friends_TT_2018" ]] && NNScore_Friends_TT_2018="$basedir_naf/NNScore_Friends_TT_2018"
[[ ! -z "$NNScore_Friends_EM_2018" ]] && NNScore_Friends_EM_2018="$basedir_naf/NNScore_Friends_EM_2018"
ARTUS_FRIENDS_2018="$SVFit_Friends_2018 $MELA_Friends_2018 $NNScore_Friends_2018"
ARTUS_FRIENDS_ET_2018="$SVFit_Friends_2018 $MELA_Friends_2018 $NNScore_Friends_ET_2018"
ARTUS_FRIENDS_MT_2018="$SVFit_Friends_2018 $MELA_Friends_2018 $NNScore_Friends_MT_2018"
ARTUS_FRIENDS_TT_2018="$SVFit_Friends_2018 $MELA_Friends_2018 $NNScore_Friends_TT_2018"
ARTUS_FRIENDS_EM_2018="$SVFit_Friends_2018 $MELA_Friends_2018 $NNScore_Friends_EM_2018"
[[ ! -z "$ARTUS_FRIENDS_FAKE_FACTOR_2018" ]] && ARTUS_FRIENDS_FAKE_FACTOR_2018="$basedir_naf/ARTUS_FRIENDS_FAKE_FACTOR_2018"
[[ ! -z "$ARTUS_FRIENDS_FAKE_FACTOR_INCL_2018" ]] && ARTUS_FRIENDS_FAKE_FACTOR_INCL_2018="$basedir_naf/ARTUS_FRIENDS_FAKE_FACTOR_INCL_2018"





############ NO CHANGES AFTER THIS LINE EXPECTED ############
# Era-handling
if [[ $ERA == *"2016"* ]]
then
    ARTUS_OUTPUTS=$ARTUS_OUTPUTS_2016
    ARTUS_FRIENDS_ET=$ARTUS_FRIENDS_ET_2016
    ARTUS_FRIENDS_MT=$ARTUS_FRIENDS_MT_2016
    ARTUS_FRIENDS_TT=$ARTUS_FRIENDS_TT_2016
    ARTUS_FRIENDS_EM=$ARTUS_FRIENDS_EM_2016
    ARTUS_FRIENDS_FAKE_FACTOR=$ARTUS_FRIENDS_FAKE_FACTOR_2016
    ARTUS_FRIENDS_FAKE_FACTOR_INCL=$ARTUS_FRIENDS_FAKE_FACTOR_INCL_2016
elif [[ $ERA == *"2017"* ]]
then
    ARTUS_OUTPUTS=$ARTUS_OUTPUTS_2017
    ARTUS_OUTPUTS_EM=$ARTUS_OUTPUTS_EM_2017
    ARTUS_FRIENDS_ET=$ARTUS_FRIENDS_ET_2017
    ARTUS_FRIENDS_MT=$ARTUS_FRIENDS_MT_2017
    ARTUS_FRIENDS_TT=$ARTUS_FRIENDS_TT_2017
    ARTUS_FRIENDS_EM=$ARTUS_FRIENDS_EM_2017
    ARTUS_FRIENDS_FAKE_FACTOR=$ARTUS_FRIENDS_FAKE_FACTOR_2017
    ARTUS_FRIENDS_FAKE_FACTOR_INCL=$ARTUS_FRIENDS_FAKE_FACTOR_INCL_2017
elif [[ $ERA == *"2018"* ]]
then
    ARTUS_OUTPUTS=$ARTUS_OUTPUTS_2018
    ARTUS_FRIENDS_ET=$ARTUS_FRIENDS_ET_2018
    ARTUS_FRIENDS_MT=$ARTUS_FRIENDS_MT_2018
    ARTUS_FRIENDS_TT=$ARTUS_FRIENDS_TT_2018
    ARTUS_FRIENDS_EM=$ARTUS_FRIENDS_EM_2018
    ARTUS_FRIENDS_FAKE_FACTOR=$ARTUS_FRIENDS_FAKE_FACTOR_2018
    ARTUS_FRIENDS_FAKE_FACTOR_INCL=$ARTUS_FRIENDS_FAKE_FACTOR_INCL_2018
fi

# Kappa database
KAPPA_DATABASE=datasets/datasets.json
